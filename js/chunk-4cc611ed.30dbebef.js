(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4cc611ed"],{"1e8f":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADnSURBVHgBjZM9EoIwEIV3gzNeg0NktPYktpRa2draWdLmCJ7A1oJDxBtwACDuZmVQyA87kxnCe98Ly06wqi4lQH8EKExd3yysqF9G8QMiXBGHpwh5mL3MMEsBnQFwllaZCxlh9grTGRThREJBApKA1jl1mLczh53ryXO3OBniITGYNfw/ZRniTRF4ERAKkbdhOBiwDPEBQZhrA8Ha0hoY/O5V1BpoYT4qbytj08EUzJ/tTYkRYwoee06NGHPwdEA4BNfAqRAltyoPc7Em/0XuDrOF1rs3jamlzTkFj9U0r1br/UOYznwAQXXqlabuXMcAAAAASUVORK5CYII="},6181:function(t,e,a){"use strict";a("6e7d")},"6e7d":function(t,e,a){},"71b2":function(t,e,a){},"7d03":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"AdminNavbar"},[n("router-link",{attrs:{to:"/admin/tweets"}},[n("img",{staticClass:"adminNavbarLogo",attrs:{src:a("a136"),width:"50px",height:"50px",alt:""}})]),n("div",{staticClass:"adminNavLinkGroup"},["/admin/tweets"===t.$route.path?n("img",{staticClass:"adminNavLinkIcon",attrs:{src:a("6d6a"),alt:""}}):n("img",{staticClass:"adminNavLinkIcon",attrs:{src:a("fbf5"),alt:""}}),n("router-link",{staticClass:"adminNavLinkText",attrs:{to:"/admin/tweets"}},[t._v(" 推文清單 ")])],1),n("div",{staticClass:"adminNavLinkGroup"},["/admin/users"===t.$route.path?n("img",{staticClass:"adminNavLinkIcon",attrs:{src:a("a330"),alt:""}}):n("img",{staticClass:"adminNavLinkIcon",attrs:{src:a("e7f6"),alt:""}}),n("router-link",{staticClass:"adminNavLinkText",attrs:{to:"/admin/users"}},[t._v(" 使用者列表 ")])],1),n("div",{staticClass:"adminNavLinkGroup adminNavLogoutLinkGroup"},[n("img",{staticClass:"adminNavLinkIcon",attrs:{src:a("bc8c"),alt:""}}),n("button",{staticClass:"adminNavLogoutBtn",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.logout.apply(null,arguments)}}},[t._v("登出")])])],1)},s=[],i={methods:{logout:function(){this.$store.commit("revokeAuthentication")}}},r=i,c=(a("6181"),a("2877")),o=Object(c["a"])(r,n,s,!1,null,"41e80397",null);e["a"]=o.exports},b629:function(t,e,a){"use strict";a("71b2")},be6c:function(t,e,a){"use strict";var n=a("dfd8"),s=function(){return localStorage.getItem("token")};e["a"]={signIn:function(t){var e=t.account,a=t.password;return n["b"].post("/api/admin/signin",{account:e,password:a})},getTweets:function(){return n["b"].get("/api/tweets",{headers:{Authorization:"Bearer ".concat(s())}})},deleteTweet:function(t){var e=t.id;return n["b"].delete("/api/admin/tweets/".concat(e),{headers:{Authorization:"Bearer ".concat(s())}})},getUsers:function(){return n["b"].get("/api/admin/users",{headers:{Authorization:"Bearer ".concat(s())}})}}},f3d5:function(t,e,a){"use strict";a("f8c9")},f8c9:function(t,e,a){},fa6a:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"AdminTweets"},[a("AdminNavbar",{attrs:{id:"AdminNavbar"}}),a("div",{staticClass:"adminTweetsSection"},[a("div",{staticClass:"adminTweetsSectionContent"},[t._m(0),a("div",{staticClass:"adminTweetsTable"},t._l(t.tweets,(function(e){return a("AdminTweet",{key:e.id,attrs:{tweet:e},on:{deleteTweet:t.deleteTweet}})})),1)])])],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"adminTweetsTitle"},[a("h1",{staticClass:"adminTweetsTitleText"},[t._v("推文清單")])])}],i=a("1da1"),r=(a("4de4"),a("d3b7"),a("96cf"),a("7d03")),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"AdminTweet"},[n("router-link",{attrs:{to:""}},[n("img",{staticClass:"adminTweetUserImage",attrs:{src:t._f("emptyImage")(t.tweet.User.avatar),alt:""}})]),n("div",{staticClass:"adminTweetContent"},[n("div",{staticClass:"adminTweetUserNameGroup"},[n("router-link",{staticClass:"adminTweetUserName",attrs:{to:""}},[t._v(t._s(t.tweet.User.name))]),n("router-link",{staticClass:"adminTweetUserAccount",attrs:{to:""}},[t._v("@"+t._s(t.tweet.User.account))]),n("p",{staticClass:"adminTweetCreatedAt"},[t._v("・"+t._s(t._f("fromNow")(t.tweet.createdAt)))])],1),n("div",{staticClass:"adminTweetText"},[n("p",[t._v(t._s(t.tweet.description))])])]),n("button",{staticClass:"deleteTweetBtn",attrs:{disabled:t.isProcessing},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deleteTweet(t.tweet.id)}}},[n("img",{attrs:{src:a("1e8f"),alt:""}})])],1)},o=[],d=a("e47f"),u=a("be6c"),l=a("dfd8"),m={props:{tweet:{type:Object,required:!0}},mixins:[d["b"],d["a"]],data:function(){return{isProcessing:!1}},methods:{deleteTweet:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,e.isProcessing=!0,a.next=4,u["a"].deleteTweet({id:t});case 4:l["a"].fire({icon:"success",title:"刪除推文成功"}),e.$emit("deleteTweet",t),e.isProcessing=!1,a.next=13;break;case 9:a.prev=9,a.t0=a["catch"](0),e.isProcessing=!1,l["a"].fire({icon:"error",title:"刪除推文失敗"});case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()}}},w=m,A=(a("f3d5"),a("2877")),f=Object(A["a"])(w,c,o,!1,null,"69c6a39f",null),v=f.exports,p={components:{AdminNavbar:r["a"],AdminTweet:v},data:function(){return{tweets:[]}},methods:{fetchData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u["a"].getTweets();case 3:a=e.sent,n=a.data,t.tweets=n,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),l["a"].fire({icon:"error",title:"無法取得推文列表"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},deleteTweet:function(t){this.tweets=this.tweets.filter((function(e){return e.id!==t}))}},created:function(){this.fetchData()}},h=p,g=(a("b629"),Object(A["a"])(h,n,s,!1,null,"3d0b0f0a",null));e["default"]=g.exports}}]);
//# sourceMappingURL=chunk-4cc611ed.30dbebef.js.map