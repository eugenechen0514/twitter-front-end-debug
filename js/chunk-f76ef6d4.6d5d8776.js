(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f76ef6d4"],{3107:function(e,t,a){"use strict";a("dd3e")},"4ef5":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Setting"},[a("Navbar",{attrs:{id:"Navbar"}}),a("div",{staticClass:"settingSection"},[a("div",{staticClass:"settingSectionContent"},[e._m(0),a("form",{staticClass:"settingForm",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.submitForm.apply(null,arguments)}}},[a("div",{staticClass:"labelInputGroup"},[a("label",{staticClass:"formLabel",attrs:{for:"account"}},[e._v("帳號")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.account,expression:"account"}],staticClass:"formInput",class:{error:e.account.length>50},attrs:{type:"text",name:"account",id:"account",required:""},domProps:{value:e.account},on:{input:function(t){t.target.composing||(e.account=t.target.value)}}}),e.account.length>50?a("div",{staticClass:"errorMessage"},[a("p",{staticClass:"errorText"},[e._v("字數超出上限!")]),a("p",[e._v(e._s(e.account.length)+"/50")])]):e._e()]),a("div",{staticClass:"labelInputGroup"},[a("label",{staticClass:"formLabel",attrs:{for:"name"}},[e._v("名稱")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"formInput",class:{error:e.name.length>50},attrs:{type:"text",name:"name",id:"name",required:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),e.name.length>50?a("div",{staticClass:"errorMessage"},[a("p",{staticClass:"errorText"},[e._v("字數超出上限!")]),a("p",[e._v(e._s(e.name.length)+"/50")])]):e._e()]),a("div",{staticClass:"labelInputGroup"},[a("label",{staticClass:"formLabel",attrs:{for:"email"}},[e._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"formInput",attrs:{type:"email",name:"email",id:"email",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),a("div",{staticClass:"labelInputGroup"},[a("label",{staticClass:"formLabel",attrs:{for:"password"}},[e._v("密碼")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"formInput",attrs:{type:"password",name:"password",id:"password",placeholder:"請填寫想要更改的密碼",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),a("div",{staticClass:"labelInputGroup"},[a("label",{staticClass:"formLabel",attrs:{for:"password"}},[e._v("密碼確認")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.passwordCheck,expression:"passwordCheck"}],staticClass:"formInput",attrs:{type:"password",name:"passwordCheck",id:"passwordCheck",placeholder:"請再輸入一次密碼",required:""},domProps:{value:e.passwordCheck},on:{input:function(t){t.target.composing||(e.passwordCheck=t.target.value)}}})]),a("button",{staticClass:"settingFormSubmitBtn",attrs:{disabled:e.isProcessing,type:"submit"}},[e._v(" 儲存 ")])])])])],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"settingTitle"},[a("h1",{staticClass:"settingTitleText"},[e._v("帳戶設定")])])}],n=a("1da1"),i=a("5530"),o=(a("96cf"),a("b0c0"),a("498a"),a("d178")),c=a("2f62"),l=a("4cce"),u=a("dfd8"),m={components:{Navbar:o["a"]},data:function(){return{account:"",name:"",email:"",password:"",passwordCheck:"",isProcessing:!1}},computed:Object(i["a"])({},Object(c["b"])(["currentUser"])),methods:{fetchData:function(){this.account=this.currentUser.account,this.name=this.currentUser.name,this.email=this.currentUser.email},submitForm:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.account.trim()&&e.name.trim()&&e.email.trim()&&e.password.trim()&&e.passwordCheck.trim()){t.next=6;break}return u["a"].fire({icon:"warning",title:"請確實填寫全部欄位"}),t.abrupt("return");case 6:if(!(e.account.length>50)){t.next=11;break}return u["a"].fire({icon:"warning",title:"帳號不可超過50字"}),t.abrupt("return");case 11:if(!(e.name.length>50)){t.next=16;break}return u["a"].fire({icon:"warning",title:"名稱不可超過50字"}),t.abrupt("return");case 16:if(e.password===e.passwordCheck){t.next=19;break}return u["a"].fire({icon:"error",title:"密碼與密碼確認欄位不相符"}),t.abrupt("return");case 19:return e.isProcessing=!0,t.next=22,l["a"].editUser({id:e.currentUser.id,data:{account:e.account,name:e.name,email:e.email,password:e.password,checkPassword:e.passwordCheck}});case 22:u["a"].fire({icon:"success",title:"使用者資料更改成功，請重新登入"}),e.isProcessing=!1,e.$store.commit("revokeAuthentication"),t.next=31;break;case 27:t.prev=27,t.t0=t["catch"](0),e.isProcessing=!1,u["a"].fire({icon:"error",title:"無法更改使用者資料"});case 31:case"end":return t.stop()}}),t,null,[[0,27]])})))()}},created:function(){this.fetchData()}},p=m,d=(a("3107"),a("2877")),v=Object(d["a"])(p,s,r,!1,null,"405b2602",null);t["default"]=v.exports},dd3e:function(e,t,a){}}]);
//# sourceMappingURL=chunk-f76ef6d4.6d5d8776.js.map