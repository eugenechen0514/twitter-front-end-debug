(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76665812"],{"087a":function(e,t,s){"use strict";s("3887")},"1b56":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABISURBVHgB7dSxCQAgEAPA4CTZfylHUYu3ULBRgwg5SJuAyANmgS05IisvEAxwKicuostXevluho+Q8AAhfiKPHI9IEMJjZ5+rIuYyEJF8+1IAAAAASUVORK5CYII="},"1c04":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAK2SURBVHgBrVZNbtNAFH4zScqGhW+Al+xoN0iwIblBb1Cv21QY2lCpbRq7tJVKG9WIBLJrcgLSE2CQQBWrcALMjqWl7hJ7Hu9NkrYhaZIm/iRnZjw/33zPM++LgAmw7ZLRznRMqYQxqj+K00HNc4NJ64i7Fo8yyhYCVhDBhKmAPgpZr77bb0xFtLZZJAJRoolGb0CAAC1UEA5NlmAA0iNgkZp6PAoRxELkaseDKgeI8oWiQ0VJdyB4Ch941fLuH5gC64XiCyrqtCmTylBBnPt4ctQaIuqT0MBAAlgfTt5+hRmQ39wr0S4dJoukXOork/xjb5XMnpIw7rRzs5IwKqf7LsXPoaqRVvF5/70mipUqdZvo1LzjAOaEJgPwKWDZ/MZOVhPxCaNwWRyyysnBe0gKSrm6lEKLkFEqzva6fEgQlfKhT4ropIpFTUTH4QlXBGALkkdAj7G2cfBI9t+gwhASx82apEjqhpCjU0xSkPTR9IXEXiyThV4z5Esv03HK549GN3fZtu3EVOU3dpd7aczntvQ8l0iwSXUjSj98CUlBSn2sUammbvJPqtN29VEUwll7s7cCc4ITM1Es8t2slg8b10QeZQNS9YrrArGeL+w4MCNWC0WL7OWM65zO+u8HszfHVcpzji2ne6mwiagu2Ny4f5LBdS2mS4JKWNXyjTcN+ZFtb5lxZoGzuDW0EqJTOT1wh+ZQUo6U4gSapSckEvs2CSP1/6TLy+/hzx/fLp4/fdYgsl+kkM/+X9qSyf3UN7AAh4pc+DNVH9PAVtTp5D6dHQ1l/5FWfseOf5MinxTlusrJ7hdIBcKyXoiMMhVduZ7njcwwaZgB5KZWBHjGNn5tlKfjPexeRHRATHLiL6i/BWoV6TEqZiYS3f8D5rQqbkPCPcEqMp2rpXnsfizWX29bq4XtmRPvPz6zMxv1qgGJAAAAAElFTkSuQmCC"},"2e27":function(e,t,s){},3887:function(e,t,s){},"3bd4":function(e,t,s){"use strict";s("c068")},"62a9":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"Comments"},e._l(e.currentRepliedTweets,(function(t,a){return s("div",{key:t.id||a,staticClass:"comment"},[s("div",{staticClass:"commentUserImage"},[s("router-link",{attrs:{to:{name:"user-tweets",params:{id:t.UserId||t.userId}}}},[s("img",{attrs:{src:e._f("emptyImage")(t.userAvatar),alt:""}})])],1),s("div",{staticClass:"commentContent"},[s("div",{staticClass:"commentUserNameGroup"},[s("router-link",{staticClass:"commentUserName",attrs:{to:{name:"user-tweets",params:{id:t.UserId||t.userId}}}},[e._v(e._s(t.userName))]),s("router-link",{staticClass:"commentUserAccount",attrs:{to:{name:"user-tweets",params:{id:t.UserId||t.userId}}}},[e._v("＠"+e._s(t.userAccount))]),s("p",{staticClass:"commentCreatedAt"},[e._v("・"+e._s(e._f("fromNow")(t.createdAt)))])],1),s("div",{staticClass:"commentFor"},[s("p",[e._v(" 回覆 "),s("span",[e._v("@"+e._s(t.replyUserAccount||t.replyAccount))])])]),s("div",{staticClass:"commentText"},[s("p",[e._v(" "+e._s(t.comment)+" ")])]),e._m(0,!0)])])})),0)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"commentLikeBtnGroup"},[a("button",{staticClass:"commentBtn"},[a("img",{attrs:{src:s("85da"),alt:""}}),a("p",[e._v("0")])]),a("button",{staticClass:"likeBtn"},[a("img",{attrs:{src:s("cb66"),alt:""}}),a("p",[e._v("0")])])])}],r=s("e47f"),n={props:{currentRepliedTweets:{type:Array,required:!0}},mixins:[r["b"],r["a"]]},c=n,l=(s("3bd4"),s("2877")),o=Object(l["a"])(c,a,i,!1,null,"90e2be44",null);t["a"]=o.exports},"6f1a":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Tweet"},[a("Navbar",{attrs:{id:"Navbar"}}),a("div",{staticClass:"tweetSection"},[a("div",{staticClass:"tweetSectionContent"},[a("div",{staticClass:"tweetTitle"},[a("router-link",{attrs:{to:"/main"}},[a("img",{attrs:{src:s("1b56"),alt:""}}),a("p",[e._v("推文")])])],1),a("TweetDetail",{attrs:{id:"TweetDetail",initialTweet:e.tweet}}),a("Comments",{attrs:{id:"TweetComments",currentRepliedTweets:e.tweetReplies}})],1)]),a("PopularUsers",{attrs:{id:"PopularUsers"}})],1)},i=[],r=s("1da1"),n=(s("96cf"),s("d178")),c=s("f963"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"TweetDetail"},[a("div",{staticClass:"tweetContent"},[a("div",{staticClass:"tweetUser"},[a("router-link",{attrs:{to:""}},[a("img",{staticClass:"tweetUserImage",attrs:{src:e._f("emptyImage")(e.initialTweet.User.avatar),alt:""}}),a("div",{staticClass:"tweetUserNameGroup"},[a("p",{staticClass:"tweetUserName"},[e._v(e._s(e.initialTweet.User.name))]),a("p",{staticClass:"tweetUserAccount"},[e._v("@"+e._s(e.initialTweet.User.account))])])])],1),a("div",{staticClass:"tweetText"},[a("p",[e._v(e._s(e.initialTweet.description))])]),a("div",{staticClass:"tweetCreatedAt"},[a("p",[e._v(e._s(e._f("date")(e.initialTweet.createdAt)))])]),a("div",{staticClass:"tweetCommentsLikesCount"},[a("p",{staticClass:"tweetCommentsCount"},[a("span",[e._v(e._s(e.initialTweet.Replies))]),e._v("回覆 ")]),a("p",{staticClass:"tweetLikesCount"},[a("span",[e._v(e._s(e.initialTweet.Likes))]),e._v("喜歡次數 ")])]),a("div",{staticClass:"tweetCommentLikeBtn"},[a("button",{staticClass:"tweetCommentBtn",attrs:{disabled:e.isProcessing},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.openReplyTweetModal.apply(null,arguments)}}},[a("img",{staticClass:"tweetCommentIcon",attrs:{src:s("1c04"),alt:""}})]),e.initialTweet.isLiked?a("button",{staticClass:"tweetLikeBtn",attrs:{disabled:e.isProcessing},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.deleteLike(e.initialTweet.id)}}},[a("img",{staticClass:"tweetLikeActiveIcon",attrs:{src:s("7503"),alt:""}})]):a("button",{staticClass:"tweetLikeBtn",attrs:{disabled:e.isProcessing},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.addLike(e.initialTweet.id)}}},[a("img",{staticClass:"tweetLikeIcon",attrs:{src:s("b305"),alt:""}})])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.replyTweetModalIsOpen,expression:"replyTweetModalIsOpen"}],attrs:{id:"replyTweetModal"}},[a("div",{attrs:{id:"replyTweetModalWrapper"}},[a("div",{staticClass:"replyTweetModalConnectLine"}),a("button",{staticClass:"closeReplyTweetModalBtn",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.closeReplyTweetModal.apply(null,arguments)}}},[e._v(" ✖ ")]),a("div",{staticClass:"replyTweetModalContent"},[a("div",{staticClass:"replyTweet"},[a("img",{staticClass:"replyTweetUserImage",attrs:{src:e._f("emptyImage")(e.initialTweet.User.avatar),alt:""}}),a("div",{staticClass:"replyTweetContent"},[a("div",{staticClass:"replyTweetUserNameGroup"},[a("router-link",{staticClass:"replyTweetUserName",attrs:{to:{name:"user-tweets",params:{id:e.initialTweet.User.id}}}},[e._v(e._s(e.initialTweet.User.name))]),a("router-link",{staticClass:"replyTweetUserAccount",attrs:{to:{name:"user-tweets",params:{id:e.initialTweet.User.id}}}},[e._v("@"+e._s(e.initialTweet.User.account))]),a("p",{staticClass:"replyTweetCreatedAt"},[e._v(" ・"+e._s(e._f("fromNow")(e.initialTweet.createdAt))+" ")])],1),a("p",{staticClass:"replyTweetText"},[e._v(" "+e._s(e.initialTweet.description)+" ")]),a("p",{staticClass:"replyTweetFor"},[e._v(" 回覆給 "),a("span",[e._v("@"+e._s(e.initialTweet.User.account))])])])]),a("div",{staticClass:"currentUserReply"},[a("img",{staticClass:"currentUserReplyUserImg",attrs:{src:e._f("emptyImage")(e.currentUser.avatar),width:"50px",height:"50px",alt:""}}),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.replyText,expression:"replyText"}],staticClass:"currentUserReplyText",attrs:{placeholder:"推你的回覆"},domProps:{value:e.replyText},on:{input:function(t){t.target.composing||(e.replyText=t.target.value)}}})]),a("button",{staticClass:"replyTweetModalSubmitBtn",attrs:{disabled:e.isProcessing},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.replyTweetModalSubmit.apply(null,arguments)}}},[e._v(" 回覆 ")])])])])])},o=[],A=s("5530"),p=s("6783"),u=s("dfd8"),d=s("e47f"),w=s("2f62"),m={props:{initialTweet:{type:Object,required:!0}},mixins:[d["b"],d["a"]],data:function(){return{isProcessing:!1,replyTweetModalIsOpen:!1,replyText:""}},computed:Object(A["a"])({},Object(w["b"])(["currentUser"])),methods:{addLike:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,t.isProcessing=!0,s.next=4,p["a"].addLike({id:e});case 4:t.initialTweet.isLiked=!0,t.initialTweet.Likes++,t.isProcessing=!1,s.next=13;break;case 9:s.prev=9,s.t0=s["catch"](0),t.isProcessing=!1,u["a"].fire({icon:"error",title:"無法按讚推文"});case 13:case"end":return s.stop()}}),s,null,[[0,9]])})))()},deleteLike:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,t.isProcessing=!0,s.next=4,p["a"].deleteLike({id:e});case 4:t.initialTweet.isLiked=!1,t.initialTweet.Likes--,t.isProcessing=!1,s.next=13;break;case 9:s.prev=9,s.t0=s["catch"](0),t.isProcessing=!1,u["a"].fire({icon:"error",title:"無法取消按讚推文"});case 13:case"end":return s.stop()}}),s,null,[[0,9]])})))()},openReplyTweetModal:function(){this.replyTweetModalIsOpen=!0},closeReplyTweetModal:function(){this.replyText="",this.replyTweetModalIsOpen=!1},replyTweetModalSubmit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.replyText){t.next=6;break}return u["a"].fire({icon:"warning",title:"回覆內容不可留白"}),t.abrupt("return");case 6:if(!(e.replyText.length>140)){t.next=9;break}return u["a"].fire({icon:"warning",title:"回覆內容不可超過140字"}),t.abrupt("return");case 9:return e.isProcessing=!0,t.next=12,p["a"].replyTweet({id:e.initialTweet.id,comment:e.replyText});case 12:u["a"].fire({icon:"success",title:"回覆推文成功"}),e.replyText="",e.replyTweetModalIsOpen=!1,e.isProcessing=!1,e.$router.go(0),t.next=23;break;case 19:t.prev=19,t.t0=t["catch"](0),e.isProcessing=!1,u["a"].fire({icon:"error",title:"回復推文失敗"});case 23:case"end":return t.stop()}}),t,null,[[0,19]])})))()}}},C=m,v=(s("7262"),s("2877")),g=Object(v["a"])(C,l,o,!1,null,"53776917",null),T=g.exports,f=s("62a9"),U={components:{Navbar:n["a"],PopularUsers:c["a"],TweetDetail:T,Comments:f["a"]},data:function(){return{tweet:{id:-1,UserId:-1,description:"",createdAt:"",updatedAt:"",Likes:-1,Replies:-1,User:{id:-1,email:"",password:"",name:"",role:"",account:"",cover:"",avatar:"",introduction:"",createdAt:"",updatedAt:""},isLiked:!1},tweetReplies:[]}},methods:{fetchData:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var a,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,p["a"].getTweet({id:e});case 3:return a=s.sent,t.tweet=a.data,s.next=7,p["a"].getTweetReplies({id:e});case 7:i=s.sent,t.tweetReplies=i.data,s.next=14;break;case 11:s.prev=11,s.t0=s["catch"](0),u["a"].fire({icon:"error",title:"無法取得推文資料"});case 14:case"end":return s.stop()}}),s,null,[[0,11]])})))()}},created:function(){var e=this.$route.params.id;this.fetchData(e)},beforeRouteUpdate:function(e,t,s){var a=e.params.id;this.fetchData(a),s()}},b=U,y=(s("087a"),Object(v["a"])(b,a,i,!1,null,"37f7c659",null));t["default"]=y.exports},7262:function(e,t,s){"use strict";s("2e27")},7503:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEBSURBVHgB7ZbRDYIwFEWvTsAIbIAbyAhswAiOABvABriBOgFxAnSC4gS6gb5GmiC20EpbfzjJDSFt3uGltAAseGI1MhZQEkrU3beUU3dVzU8pG8qDcqYcYQgX3ilPSapO0heWirmsexgtckWRYUEuDCmNxvx8SppoFBGpNaUi8ZiYGRQyDVNJY4fSr67XPfEW7olkYh8E/xJDJr7BPa1MfIF7rqoB1WllfTsN17iEO/Zjg/ytc9V1iAkyB9ICGvCumUUp0+lWEFsUpzCksCDN8CP1DGmNGfD1NvnmijT4/EvxIrci7csPGtIKFqV9MoWQHzo7OCbEuzMhrGCwTxe88wIlcSh6PR7t5QAAAABJRU5ErkJggg=="},b305:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAZCAYAAAAv3j5gAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALwSURBVHgBzVbNUhNBEO6e3eBBqoxvEJ+AnCz1lDwB8ehJcgWqDCUpqqQwGyEohJ9FgsWN8AThDUguHrwIb7CPEAsPVrI7bfdkE5MlhIixiq9qa+ev+5vu6ekehAhyuUI8iLUzQNaM9LXCiwCxcbxV9GAIFt+upkBZMwSURCIPKLis7H48i67D/s7C8loOEQsAFL+uUhcr5ZLT29BKIeFrfcLNVHQlIXoYBNnKbql+jWgxvyZKmASaSFBFwDohNbk/R4CZDjnVK+WNtJAEROdElCAAjy2pKlAXpP3HZFmzLJMJCeeOtj+c9og6lsC+CAXtVvrY3fJgwJ0riSA2dc7zCV7nslhGSFi4arWvllzXbQ56ZpX1qX3ZtIYg/aW8eYHmTKbouwj67daTKMkwstAXZ5Xt9ZdwA/6QdbyggpjOhC6o3kQicHmOtM4al7Dlfqu1BCNwtFMSy9lSTOVyubjinZnoUkwEt0AOVw6Z186N2lQXiFSVf9t6OGsTQVI6AQQ/YAwc7m1WYUyQ5mDCTrwp/nnSsMB6BP8R4joTMVrrBEwaiMZbSilPUUCNDqVKwYSBIRFfgUtlB1ZdooNdmJHogAlBUpNEMxDV5Z4p1y02JdZ5Lu7Hpl/DhIBKGV1MVpW/MqNaH5hBVLlJWCUpikzqAu9ot3TaIwqTXx0lO9jTb+Af4WuqmYbWTndMdRt2u5U1NxnRmc+/S8Id0UnOlOy3ZoDIpBgKitJGtGt3ceF8viAblAoAkpz751R/x+QnTpbGhbHpc/gLyLlYGLqMyImmKBUVsFsq28kWmFzIr53AmCTd+sS1zK3sbBSja3Co4GBJOLPbV9lozRlKwon5sLyeHbZuKFGUTEozvxvS0XdD+F6oSfUdRTKSqEvmxx7UTBQxGQ85UpqlWPoxcnjcXAVx1+HO+sj6NJKot/Pl9wXW5oQioQvNA0ayisMV9OA2HRaMgW9fG40XT5+f8sNDlD/j7xdH1ifb//nq8952A+4TfgN+J4CUnJtARQAAAABJRU5ErkJggg=="},c068:function(e,t,s){}}]);
//# sourceMappingURL=chunk-76665812.6f3687ec.js.map