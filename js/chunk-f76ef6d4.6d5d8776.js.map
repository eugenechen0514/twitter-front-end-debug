{"version":3,"sources":["webpack:///./src/views/Setting.vue?e016","webpack:///./src/views/Setting.vue?642f","webpack:///src/views/Setting.vue","webpack:///./src/views/Setting.vue?4d6b","webpack:///./src/views/Setting.vue?5205"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_m","on","$event","stopPropagation","preventDefault","submitForm","apply","arguments","_v","directives","name","rawName","value","expression","class","error","account","length","domProps","target","composing","_s","_e","email","password","passwordCheck","isProcessing","staticRenderFns","components","Navbar","data","computed","mapState","methods","fetchData","Toast","icon","title","usersAPI","id","checkPassword","created","component"],"mappings":"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","file":"js/chunk-f76ef6d4.6d5d8776.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=style&index=0&id=405b2602&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Setting\"},[_c('Navbar',{attrs:{\"id\":\"Navbar\"}}),_c('div',{staticClass:\"settingSection\"},[_c('div',{staticClass:\"settingSectionContent\"},[_vm._m(0),_c('form',{staticClass:\"settingForm\",on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.submitForm.apply(null, arguments)}}},[_c('div',{staticClass:\"labelInputGroup\"},[_c('label',{staticClass:\"formLabel\",attrs:{\"for\":\"account\"}},[_vm._v(\"帳號\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.account),expression:\"account\"}],staticClass:\"formInput\",class:{ error: _vm.account.length > 50 },attrs:{\"type\":\"text\",\"name\":\"account\",\"id\":\"account\",\"required\":\"\"},domProps:{\"value\":(_vm.account)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.account=$event.target.value}}}),(_vm.account.length > 50)?_c('div',{staticClass:\"errorMessage\"},[_c('p',{staticClass:\"errorText\"},[_vm._v(\"字數超出上限!\")]),_c('p',[_vm._v(_vm._s(_vm.account.length)+\"/50\")])]):_vm._e()]),_c('div',{staticClass:\"labelInputGroup\"},[_c('label',{staticClass:\"formLabel\",attrs:{\"for\":\"name\"}},[_vm._v(\"名稱\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],staticClass:\"formInput\",class:{ error: _vm.name.length > 50 },attrs:{\"type\":\"text\",\"name\":\"name\",\"id\":\"name\",\"required\":\"\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}}),(_vm.name.length > 50)?_c('div',{staticClass:\"errorMessage\"},[_c('p',{staticClass:\"errorText\"},[_vm._v(\"字數超出上限!\")]),_c('p',[_vm._v(_vm._s(_vm.name.length)+\"/50\")])]):_vm._e()]),_c('div',{staticClass:\"labelInputGroup\"},[_c('label',{staticClass:\"formLabel\",attrs:{\"for\":\"email\"}},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.email),expression:\"email\"}],staticClass:\"formInput\",attrs:{\"type\":\"email\",\"name\":\"email\",\"id\":\"email\",\"required\":\"\"},domProps:{\"value\":(_vm.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.email=$event.target.value}}})]),_c('div',{staticClass:\"labelInputGroup\"},[_c('label',{staticClass:\"formLabel\",attrs:{\"for\":\"password\"}},[_vm._v(\"密碼\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"formInput\",attrs:{\"type\":\"password\",\"name\":\"password\",\"id\":\"password\",\"placeholder\":\"請填寫想要更改的密碼\",\"required\":\"\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})]),_c('div',{staticClass:\"labelInputGroup\"},[_c('label',{staticClass:\"formLabel\",attrs:{\"for\":\"password\"}},[_vm._v(\"密碼確認\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.passwordCheck),expression:\"passwordCheck\"}],staticClass:\"formInput\",attrs:{\"type\":\"password\",\"name\":\"passwordCheck\",\"id\":\"passwordCheck\",\"placeholder\":\"請再輸入一次密碼\",\"required\":\"\"},domProps:{\"value\":(_vm.passwordCheck)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.passwordCheck=$event.target.value}}})]),_c('button',{staticClass:\"settingFormSubmitBtn\",attrs:{\"disabled\":_vm.isProcessing,\"type\":\"submit\"}},[_vm._v(\" 儲存 \")])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"settingTitle\"},[_c('h1',{staticClass:\"settingTitleText\"},[_vm._v(\"帳戶設定\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"Setting\">\n    <Navbar id=\"Navbar\" />\n    <div class=\"settingSection\">\n      <div class=\"settingSectionContent\">\n        <div class=\"settingTitle\">\n          <h1 class=\"settingTitleText\">帳戶設定</h1>\n        </div>\n\n        <form @submit.stop.prevent=\"submitForm\" class=\"settingForm\">\n          <div class=\"labelInputGroup\">\n            <label for=\"account\" class=\"formLabel\">帳號</label>\n            <input\n              v-model=\"account\"\n              type=\"text\"\n              name=\"account\"\n              class=\"formInput\"\n              :class=\"{ error: account.length > 50 }\"\n              id=\"account\"\n              required\n            />\n            <div class=\"errorMessage\" v-if=\"account.length > 50\">\n              <p class=\"errorText\">字數超出上限!</p>\n              <p>{{ account.length }}/50</p>\n            </div>\n          </div>\n          <div class=\"labelInputGroup\">\n            <label for=\"name\" class=\"formLabel\">名稱</label>\n            <input\n              v-model=\"name\"\n              type=\"text\"\n              name=\"name\"\n              class=\"formInput\"\n              :class=\"{ error: name.length > 50 }\"\n              id=\"name\"\n              required\n            />\n            <div class=\"errorMessage\" v-if=\"name.length > 50\">\n              <p class=\"errorText\">字數超出上限!</p>\n              <p>{{ name.length }}/50</p>\n            </div>\n          </div>\n          <div class=\"labelInputGroup\">\n            <label for=\"email\" class=\"formLabel\">Email</label>\n            <input\n              v-model=\"email\"\n              type=\"email\"\n              name=\"email\"\n              class=\"formInput\"\n              id=\"email\"\n              required\n            />\n          </div>\n          <div class=\"labelInputGroup\">\n            <label for=\"password\" class=\"formLabel\">密碼</label>\n            <input\n              v-model=\"password\"\n              type=\"password\"\n              name=\"password\"\n              class=\"formInput\"\n              id=\"password\"\n              placeholder=\"請填寫想要更改的密碼\"\n              required\n            />\n          </div>\n\n          <div class=\"labelInputGroup\">\n            <label for=\"password\" class=\"formLabel\">密碼確認</label>\n            <input\n              v-model=\"passwordCheck\"\n              type=\"password\"\n              name=\"passwordCheck\"\n              class=\"formInput\"\n              id=\"passwordCheck\"\n              placeholder=\"請再輸入一次密碼\"\n              required\n            />\n          </div>\n          <button\n            :disabled=\"isProcessing\"\n            type=\"submit\"\n            class=\"settingFormSubmitBtn\"\n          >\n            儲存\n          </button>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Navbar from \"../components/Navbar.vue\";\nimport { mapState } from \"vuex\";\nimport usersAPI from \"../apis/users\";\nimport { Toast } from \"../utility/helpers\";\n\nexport default {\n  components: {\n    Navbar,\n  },\n  data() {\n    return {\n      account: \"\",\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      passwordCheck: \"\",\n      isProcessing: false,\n    };\n  },\n  computed: {\n    ...mapState([\"currentUser\"]),\n  },\n  methods: {\n    fetchData() {\n      this.account = this.currentUser.account;\n      this.name = this.currentUser.name;\n      this.email = this.currentUser.email;\n    },\n    async submitForm() {\n      try {\n        if (\n          !this.account.trim() ||\n          !this.name.trim() ||\n          !this.email.trim() ||\n          !this.password.trim() ||\n          !this.passwordCheck.trim()\n        ) {\n          Toast.fire({\n            icon: \"warning\",\n            title: \"請確實填寫全部欄位\",\n          });\n          return;\n        } else if (this.account.length > 50) {\n          Toast.fire({\n            icon: \"warning\",\n            title: \"帳號不可超過50字\",\n          });\n          return;\n        } else if (this.name.length > 50) {\n          Toast.fire({\n            icon: \"warning\",\n            title: \"名稱不可超過50字\",\n          });\n          return;\n        } else if (this.password !== this.passwordCheck) {\n          Toast.fire({\n            icon: \"error\",\n            title: \"密碼與密碼確認欄位不相符\",\n          });\n          return;\n        }\n\n        this.isProcessing = true;\n\n        await usersAPI.editUser({\n          id: this.currentUser.id,\n          data: {\n            account: this.account,\n            name: this.name,\n            email: this.email,\n            password: this.password,\n            checkPassword: this.passwordCheck\n          },\n        });\n\n        Toast.fire({\n          icon: \"success\",\n          title: \"使用者資料更改成功，請重新登入\",\n        });\n\n        this.isProcessing = false;\n        this.$store.commit('revokeAuthentication')\n      } catch (error) {\n        this.isProcessing = false;\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法更改使用者資料\",\n        });\n      }\n    },\n  },\n  created() {\n    this.fetchData();\n  },\n};\n</script>\n\n<style scoped>\n.Setting {\n  width: 100%;\n  height: 100vh;\n  display: grid;\n}\n\n#Navbar {\n  justify-self: start;\n  position: fixed;\n  margin-left: 130px;\n}\n\n.settingSection {\n  width: 1068px;\n  margin-left: 332px;\n}\n\n.settingSectionContent {\n  width: 100%;\n  height: 100%;\n  border-left: 1px solid #e6ecf0;\n}\n\n.settingTitle {\n  width: 100%;\n  height: 74px;\n  border-bottom: 1px solid #e6ecf0;\n  padding: 24px 23px;\n  font-size: 24px;\n  font-weight: 700;\n  color: #1c1c1c;\n}\n\n.settingForm {\n  padding: 30px 16px;\n}\n\n.labelInputGroup {\n  background-color: #f5f8fa;\n  width: 642px;\n  height: 52px;\n  margin-bottom: 32px;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n}\n\n.formLabel {\n  font-size: 15px;\n  font-weight: 500;\n  color: #657786;\n  margin-top: 5px;\n  margin-left: 10px;\n}\n\n.formInput {\n  border: 0;\n  background-color: #f5f8fa;\n  width: 100%;\n  height: 30px;\n  padding: 0 10px;\n  line-height: 30;\n  font-size: 15px;\n  border-bottom: 2px solid #657786;\n  font-size: 19px;\n  font-weight: 500;\n}\n\n.formInput::placeholder {\n  color: #b5b5be;\n  font-size: 14px;\n}\n\n.formInput:focus,\n.formInput:hover {\n  outline: 0;\n  border-bottom: 2px solid #50b5ff;\n}\n\n.formInput.error {\n  border-bottom: 2px solid #fc5a5a;\n}\n\n.errorMessage {\n  position: absolute;\n  width: 100%;\n  top: 100%;\n  display: flex;\n  justify-content: space-between;\n  font-size: 15px;\n  font-weight: 500;\n  color: #657786;\n}\n\n.errorText {\n  color: #fc5a5a;\n}\n\n.settingFormSubmitBtn {\n  width: 116px;\n  height: 46px;\n  border: 0;\n  border-radius: 50px;\n  background-color: #ff6600;\n  color: #fff;\n  font-size: 18px;\n  font-weight: 700;\n  margin-left: 526px;\n}\n\n.settingFormSubmitBtn:hover {\n  cursor: pointer;\n}\n\n.settingFormSubmitBtn:disabled:hover {\n  cursor: wait;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Setting.vue?vue&type=template&id=405b2602&scoped=true&\"\nimport script from \"./Setting.vue?vue&type=script&lang=js&\"\nexport * from \"./Setting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Setting.vue?vue&type=style&index=0&id=405b2602&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"405b2602\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}